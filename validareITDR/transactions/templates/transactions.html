{% extends "base.html" %}
{% load static %}
{% block content %}

<div id="content" class="content">
	<h1 class="page-header">Validare Bon <small>Self Running 4</small></h1>
	<!-- end page-header -->
	<!-- begin wizard-form -->
	<form action="/" method="POST" name="form-wizard" class="form-control-with-bg" data-parsley-validate="">
		{% csrf_token %}
		<!-- begin wizard -->
		<div id="wizard">
			<!-- begin wizard-step -->
			<ul>
				<li id="li_step-1" onclick="firstStep()">
					<a href="#step-1" class="nav-link">
						<span class="number">1</span>
						<span class="info">
							Bon Fiscal
							<small>Introdu numar de bon fiscal</small>
						</span>
					</a>
				</li>
				<li id="li_step-2" onclick="ticketValidation()">
					<a href="#step-2" class="nav-link">
						<span class="number">2</span>
						<span class="info">
							Produse
							<small>Alege produsele achizitionate</small>
						</span>
					</a>
				</li>
				<li id="li_step-3">
					<a href="#step-3" class="nav-link">
						<span class="number">3</span>
						<span class="info">
							Premii
							<small>Revendica premiul</small>
						</span>
					</a>
				</li>
			</ul>
			<!-- end wizard-step -->
			<!-- begin wizard-content -->
			<div class="sw-container tab-content" style="min-height: 518px;">
				<!-- begin step-1 -->
				<div id="step-1" class="tab-pane step-content">
					<!-- begin fieldset -->
					<fieldset>
						<!-- begin row -->
						<div class="row">
							<!-- begin col-8 -->
							<div class="col-xl-8 offset-xl-2">
								<div class="form-group row m-b-10">
									<label class="col-lg-3 text-lg-right col-form-label">Numar Bon</label>
									<div class="col-lg-9">
										<input class="form-control m-b-10" id="ticketValue" autocomplete="off" type="text" data-parsley-type="number" data-parsley-required="true" data-parsley-group="step-1">
									</div>
								</div>
							</div>
							<!-- end col-8 -->
						</div>
						<!-- end row -->
					</fieldset>
					<!-- end fieldset -->
				</div>
				<!-- end step-1 -->
				<!-- begin step-2 -->
				<div id="step-2" class="tab-pane step-content" name="step-2">
					<div class="row">
						<!-- begin fieldset -->
						{% for prod in product_list %}
						<div class="col-lg-3" style="padding: 10px">
							<div class="card text-center">
								<div class="card-header" onclick="setQuantity(this, 1)" style="cursor: pointer;">
									<img src="{% static prod.url_img %}" alt="{{ prod.name }}">
								</div>
								<div onclick="setQuantity(this, 1)" style="font-weight: 600; color: white; cursor: pointer">{{ prod.name }}</div>
								<div class="card-footer">
									<input class="form-control m-b-10 prodValue" autocomplete="off" id="{{ prod.id }}" type="number" data-parsley-type="number" data-parsley-group="step-2" value="0">
								</div>
							</div>
						</div>
						{% endfor %}
					</div>
					<div class="alert alert-warning fade show" style="display: none">
						<span class="fa-stack fa-1x">
							<i class="far fa-times-circle fa-stack-2x"></i>
						</span>
						<strong>Nu ati ales niciun produs!</strong>
					</div>
				</div>
				<!-- end step-2 -->
				<!-- begin step-3 -->
				<div id="step-3" class="tab-pane step-content">
					<div class="row">
						<div class="dx-radiogroup dx-widget dx-radiogroup-horizontal" role="radiogroup" tabindex="0" aria-activedescendant="dx-11a11f59-d28b-dc6a-7c36-edcd0bad7e0a">
							<input type="hidden" id="id_prize" value="0">
							<div class="dx-widget dx-collection">
								<div class="dx-item dx-radiobutton dx-radiobutton-checked" role="radio" aria-checked="true" style="height: auto;">
									<div class="dx-radio-value-container">
										<div class="dx-radiobutton-icon dx-radiobutton-icon-checked">
											<div class="dx-radiobutton-icon-dot"></div>
										</div>
									</div>
									<div class="dx-item-content">
										<div class="card text-center">
											<div class="card-header">
												<img src="" id="img_prize" alt="Voucher 25 RON">
											</div>
											<div style="font-weight: 600; color:white;" id="name_prize"></div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<!-- end step-3 -->
				</div>
			<div class="btn-toolbar sw-toolbar sw-toolbar-bottom justify-content-end" id="step1">
				<div class="btn-group mr-2 sw-btn-group" role="group">
					<button class="btn btn-purple" type="button" onclick="ticketValidation()">Inainte</button>
				</div>
			</div>
			<div class="btn-toolbar sw-toolbar sw-toolbar-bottom justify-content-end" id="step2">
				<div class="btn-group mr-2 sw-btn-group" role="group">
					<button class="btn btn-secondary sw-btn-prev disabled" type="button" onclick="firstStep()">Inapoi</button>
					<button class="btn btn-purple sw-btn-next" type="button" onclick="productValidation()">Inainte</button>
				</div>
			</div>
			<div class="btn-toolbar sw-toolbar sw-toolbar-bottom justify-content-end" id="step3">
				<div class="btn-group mr-2 sw-btn-group" role="group">
					<button class="btn btn-secondary sw-btn-prev disabled" type="button" onclick="secondStep()">Inapoi</button>
					<button class="btn btn-purple sw-btn-next" type="button" onclick="saveData()">Salveaza</button>
				</div>
			</div>
			<!-- end wizard-content -->
		</div>
		<!-- end wizard -->
	</form>
	<!-- end wizard-form -->
</div>

{% endblock %}

